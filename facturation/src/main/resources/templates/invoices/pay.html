<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Payer la facture</title>
  <style>
    body { font-family: Arial; background: #fafafa; padding: 20px; }
    form { background: white; padding: 20px; width: 400px;
      border-radius: 5px; box-shadow: 0 0 8px #ccc; }
    label { display: block; margin-top: 10px; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; }
    .btn { margin-top: 15px; padding: 10px; width: 100%;
      background: #28a745; color: white; border: none;
      border-radius: 4px; cursor: pointer; }
  </style>
</head>
<body>

<h2>Payer la facture #<span th:text="${invoice.id}"></span></h2>

<form th:action="@{/api/invoices/{id}/pay(id=${invoice.id})}" method="post">
  <th:block th:if="${_csrf != null}">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
  </th:block>
  <label>Date de paiement :</label>
  <input type="date" name="datePaiement" required>

  <label>Méthode de paiement :</label>
  <select name="paymentMethod" required>
    <option value="CARD">Carte bancaire</option>
    <option value="TRANSFER">Virement</option>
    <option value="CASH">Espèces</option>
  </select>

  <button class="btn" type="submit">Payer</button>
</form>

</body>
</html>
